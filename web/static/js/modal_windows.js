// ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣶⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣶⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
// ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣰⠃⠉⠓⢲⡤⣀⣀⡀⠀⠀⠀⠀⠀⠀⠠⢾⡀⣹⠖⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
// ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠚⠷⢤⢀⣠⠟⠉⢉⣉⡉⢳⠶⣚⣉⡉⠛⢦⣀⠹⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
// ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⠞⠻⣇⠴⠚⠉⠉⠋⠀⠀⢻⡟⠛⠳⢄⡙⠳⡤⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
// ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⠞⠁⣠⡾⠁⠀⠀⣠⡞⠀⠀⠀⣴⠛⣷⡄⠀⢳⣄⠙⢶⡉⠓⢦⣀⠀⠀⠀⠀⠀⡀⠀⣠⠀⠀
// ⠀⠀⠀⠀⠀⠀⠀⠀⢀⡴⠋⠀⣴⣿⣳⡶⣡⢾⡟⠀⢠⣆⡼⠛⠀⠘⣿⣤⠀⢿⣆⠀⠹⣶⣄⠙⢷⡀⠀⠀⠀⠘⠿⠁⠀⠀
// ⠀⠀⠀⠀⠀⠀⠀⢰⣿⠃⠀⣼⣵⣷⠿⠋⠁⠚⠀⠐⠉⠉⠀⠀⠀⠀⠀⠈⠑⠬⣽⣄⠀⠹⡌⠳⣌⣿⡄⠀⠀⠀⠀⠀⠀⠀
// ⠀⠀⠀⠀⠀⠀⠀⣧⡞⠀⢰⠟⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢻⡀⠀⢳⡰⣿⣿⣿⣧⠀⠀⠀⠀⠀⠀
// ⠀⠀⠀⠀⠀⢠⣾⣿⡇⠀⡜⠀⠀⠀⠀⠀⠤⠀⠀⠀⠀⠀⠀⠀⠀⣠⣤⣤⣀⡀⠀⠀⡇⠀⠘⣇⢿⣿⣿⣙⣦⠀⠀⠀⠀⠀
// ⠀⠀⢀⣄⣀⣾⣿⣿⠂⢰⡇⠀⣠⣶⣿⣯⣟⠧⠀⠀⠀⠀⠀⠀⠘⣿⣽⣿⣿⡻⣦⡀⣧⠀⠀⢸⣬⠿⣿⡏⠁⠀⠀⠀⠀⠀
// ⠀⠀⠘⠛⢻⣿⣿⣿⠀⢸⠀⣾⡯⣿⣿⠿⣿⣇⠀⠀⠀⠀⠀⠀⣰⣿⣿⠉⣹⣿⠈⢿⡟⠀⠀⢸⣿⡀⢻⣇⠀⠀⠀⠀⠀⠀
// ⠀⠀⠀⠀⠀⢀⡟⣿⠀⢰⣼⡟⢸⣿⣿⣷⡟⡟⠀⠀⠀⠀⠀⠀⠹⡞⠻⠿⠟⣼⠃⢸⡇⠀⠀⣼⣭⣇⠀⢻⠀⠀⠀⠀⠀⠀
// ⠀⠀⠀⠀⠀⢸⣷⢿⠀⣿⡿⢷⠈⠿⢯⣯⠿⠃⠀⠀⢀⣀⣀⠀⠀⠉⠓⠖⠚⠋⠀⠚⡇⠀⢸⣇⣤⡹⡆⠘⣆⠀⠀⠀⠀⠀
// ⠀⠀⠀⠀⠀⢸⡿⡼⠀⣷⡀⠀⠀⠀⠀⠀⠀⣶⠟⠋⠉⠁⠈⢹⣇⠀⠀⠀⠀⠀⠀⠀⡇⠀⣼⠅⠹⠉⣿⠀⣿⠀⠀⠀⠀⠀
// ⠀⠀⠀⠀⠀⡼⣽⡇⠀⣿⣧⠀⠀⠀⠀⠀⠀⢹⠀⠀⠀⠀⠀⠈⡿⠀⠀⠀⠀⠀⠀⢰⠁⢠⠟⠒⠂⣠⣿⡀⢸⠀⠀⠀⠀⠀
// ⠀⠀⠀⠀⣾⣹⡿⠀⢠⣿⣿⠀⠀⠀⠀⠀⠀⠘⡆⠀⠀⠀⠀⢠⡇⠀⠀⠀⠀⠀⠀⣼⠀⣿⢤⡴⠚⣿⢹⣧⣿⠀⠀⠀⠀⠀
// ⠀⠀⠀⢸⢳⡿⠁⠀⣸⢦⣘⣆⠀⠀⠀⠀⠀⠀⠹⣆⠀⠀⠀⡿⠀⠀⠀⠀⠀⠀⣠⡟⢰⡇⢸⡇⣸⢇⣾⡿⠃⠀⠀⠀⠀⠀
// ⠀⠀⠀⣏⣿⠁⣀⣸⣿⠀⠈⠙⣷⢦⣀⠀⠀⠀⠀⠈⠓⠶⠚⠁⠀⠀⠀⣀⡤⣾⣿⣷⢻⠀⡾⣰⣷⡿⠋⠀⠀⠀⠀⠀⠀⠀
// ⠀⠀⠀⣿⠛⣁⣿⠋⠹⣆⠀⠀⠙⢧⣌⠹⡗⠲⠤⢤⣀⣀⣀⠤⠤⢶⣟⢡⣦⣿⡿⣿⣾⡀⢿⣿⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀
// ⠀⠀⡼⠋⣰⣿⣯⢧⡀⠙⢷⣄⡶⠞⠏⢽⣿⡀⠀⠀⣿⠋⠀⠀⠀⠘⣿⠟⢛⠉⠁⠀⠈⡟⠲⣯⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀
// ⠀⣸⢃⡾⣻⠋⠳⠯⢭⣤⣴⡿⠀⠀⠀⠀⠁⠙⠳⣶⡿⠁⠀⠀⠀⢸⡏⠂⠀⠀⠀⠀⢀⢸⠀⠀⣼⢿⣄⠀⠀⠀⠀⠀⠀⠀
// ⢰⡇⡞⢠⡟⠀⠀⠀⠀⠀⢰⣧⡀⢀⡀⠀⠀⠀⣤⠿⣄⣀⣀⣀⣀⡤⣿⠀⢀⡴⠚⠉⢩⠏⠀⣼⠃⠀⣿⠀⠀⠀⠀⠀⠀⠀
// ⢸⠙⠀⣸⠀⠀⠀⠀⠀⠀⠀⣿⣆⠀⠈⠢⡀⠀⢻⠀⡻⠀⠀⠁⠀⣴⡏⠀⠋⠀⣀⣰⠿⣇⣸⡇⠀⠀⣿⡄⠀⢀⠀⠀⠀⠀
// ⢸⡀⠀⡏⠀⠀⠀⠀⠀⠀⢰⡟⠈⣷⠀⠖⠃⠀⡾⢠⠃⠀⠀⢀⣾⣿⠟⡄⠀⠉⠁⢿⡄⠙⢿⣿⡀⠀⢺⡇⠀⠀⠀⠄⠀⣀
// ⠘⣧⠀⡇⠀⠀⠀⠀⠀⣀⣼⠀⢠⡿⠀⠀⠀⢸⣷⢿⡄⠀⢀⣾⠟⠁⠀⢸⡄⠀⠀⠈⣷⡄⠈⠙⠳⣤⣼⣧⣀⣀⣠⠴⠚⡿
// ⠀⠘⢧⣻⣤⣤⠖⠀⠀⣿⣷⣶⣾⠁⠀⠀⠀⡞⡇⢠⣷⣴⣿⠋⠀⠀⠀⢈⣇⠀⠀⠀⠘⢿⣦⡀⠀⠀⠀⠀⠀⠀⠀⣀⡼⠁
// ⠀⠀⠈⠙⠯⣄⣀⣀⢠⣿⣿⣿⠇⠀⠀⠀⢀⡷⣧⣿⣼⣿⣷⠶⠞⠛⢛⡟⣿⡀⠀⠀⠀⠀⣻⡿⢷⣶⢦⣤⡴⠖⠚⠁⠀⠀
// ⠀⠀⠀⠀⠀⠀⠀⣰⣿⣿⢟⡟⠀⠀⠀⠀⣸⠇⠙⠁⣿⣟⣧⠀⠀⢀⣾⠳⢁⣧⣀⠀⠀⠀⠀⢻⡀⠙⠻⣿⡇⠀⠀⠀⠀⠀
// ⠀⠀⠀⠀⠀⠀⣰⣿⡿⢁⡞⠀⠀⠀⢀⡴⢻⣧⣀⣴⣿⣷⣿⠀⠰⣿⣏⠀⣸⡹⣏⠳⠄⠀⠀⣰⠃⠀⠀⢸⣇⠀⠀⠀⠀⠀
// ⠀⠀⠀⠀⠀⢰⣿⡟⠁⠘⣇⠀⠠⠞⠉⠀⣸⣿⢿⠙⣿⣿⣿⡠⣤⡿⠈⢠⣿⠳⢯⣷⣤⣴⠋⠀⠀⠀⠀⣾⣿⠀⠀⠀⠀⠀
// ⠀⠀⠀⠀⠀⠀⠻⡄⠀⠀⡈⢳⣄⠀⢀⣠⠟⠋⣸⠀⣼⣿⣿⣇⣿⠃⠀⣸⣿⣄⠀⠀⠀⠀⢀⠀⠀⠀⣸⣿⠟⠀⠀⠀⠀⠀
// ⠀⠀⠀⠀⠀⠀⠀⠹⣄⠈⠀⠀⠈⠛⠋⠁⠀⣰⣧⣼⣿⣿⣿⣿⡏⠀⢰⣿⣿⣿⣦⡀⠀⠀⢸⡆⣠⣶⠿⠃⠀⠀⠀⠀⠀⠀
// ⠀⠀⠀⠀⠀⠀⠀⠀⠈⠳⣤⣀⣀⢀⣀⡤⠚⢁⡏⠀⣿⣿⣿⣿⠀⠀⣿⣿⠇⣿⣿⣿⣿⣶⣾⡿⠛⠁⠀⠀⠀⠀⠀⠀⠀⠀

function clos(name) {
    const element = document.getElementById(name);
    element.style.display = 'none'; 
}

function openModal(name) {
    const element = document.getElementById(name);
    element.style.display = 'block'; 
}

function hist() {
    openModal('modal');
    render_history();
}

function render_history() {
    ipcRenderer.send('history', null);
  
    ipcRenderer.on('history_response', (event, response) => {
        document.getElementById("hist").innerHTML = null;

        for (let i = 0; i < response.length; i++) {
            let div = document.createElement('div');
            div.classList.add('hist_div');
            div.setAttribute('onclick', `shrech_url("${response[i][0]}")`);

            let urlPara = document.createElement('p');
            urlPara.classList.add('url_hist');
            urlPara.textContent = response[i][0];

            let timePara = document.createElement('p');
            timePara.classList.add('time_hist');
            timePara.textContent = response[i][1];

            div.appendChild(urlPara);
            div.appendChild(timePara);

            document.getElementById("hist").appendChild(div);
        }
    });
}

function del_hist() {
    ipcRenderer.send('history_del', null);

    render_history();
}

function settings() {
    openModal('modal1');

    render_settings();
}

function render_settings() {
    ipcRenderer.send('settings_get', null);
  
    ipcRenderer.on('settings_get_response', (event, response) => {
        document.getElementById("url_load").innerHTML = response["start_site"];
        document.getElementById("theme_app").innerHTML = response["theme"];
    });
}
